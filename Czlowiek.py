from Zwierze import Zwierzeimport pygameimport sysfrom random import randintclass Czlowiek(Zwierze):	def __init__(self, x, y, swiat):		super().__init__()		self.sila = 5		self.inicjatywa = 4		self.polozenie_x = x		self.polozenie_y = y		self.swiat = swiat		self.kolor = (0, 0, 0)		self.cooldown = 0		self.czas_umiejetnosci = 0		self.umiejetnosc_aktywna = False	def akcja(self):		events = []		last = pygame.time.get_ticks()		if self.umiejetnosc_aktywna is True:			self.uzyjUmiejetnosci()			self.swiat.gra.aktywuj_umiejetnosc.domyslny_kolor = (132, 222, 2)		elif self.cooldown:			self.swiat.gra.aktywuj_umiejetnosc.domyslny_kolor = (211, 33, 45)		else:			self.swiat.gra.aktywuj_umiejetnosc.domyslny_kolor = (255, 126, 0)		self.swiat.rysujSwiat(self.swiat.gra)		while True:			pygame.display.flip()			self.swiat.gra.wykonaj_ruch.rysujPrzycisk(self.swiat.gra)			self.swiat.gra.aktywuj_umiejetnosc.rysujPrzycisk(self.swiat.gra)			for event in pygame.event.get():				events.append(event)			self.swiat.gra.obslugaZdarzen(events)			mysz = pygame.mouse.get_pos()			wykonaj_ruch = self.swiat.gra.wykonaj_ruch			aktywuj_umiejetnosc = self.swiat.gra.aktywuj_umiejetnosc			klik = pygame.mouse.get_pressed()			if wykonaj_ruch.x < mysz[0] < wykonaj_ruch.x + wykonaj_ruch.dlugoscx and \					wykonaj_ruch.y < mysz[1] < wykonaj_ruch.y + wykonaj_ruch.dlugoscy:				wykonaj_ruch.zmienKolorPrzycisku()				now = pygame.time.get_ticks()				if klik[0] == 1 and now - last >= 200:					self.ruch()					if self.umiejetnosc_aktywna is True:						self.uzyjUmiejetnosci()					if self.cooldown:						self.cooldown -= 1					if self.czas_umiejetnosci:						self.czas_umiejetnosci -= 1					if self.czas_umiejetnosci == 0 and self.umiejetnosc_aktywna is True:						self.cooldown = 5						self.umiejetnosc_aktywna = False					return			elif aktywuj_umiejetnosc.x < mysz[0] < aktywuj_umiejetnosc.x + aktywuj_umiejetnosc.dlugoscx and\					aktywuj_umiejetnosc.y < mysz[1] < aktywuj_umiejetnosc.y + aktywuj_umiejetnosc.dlugoscy:				wykonaj_ruch.standardowyKolorPrzycisku()				aktywuj_umiejetnosc.zmienKolorPrzycisku()				now = pygame.time.get_ticks()				if klik[0] == 1 and now - last >= 200:					if not self.cooldown and not self.czas_umiejetnosci:						self.umiejetnosc_aktywna = True						self.czas_umiejetnosci = 5					last = pygame.time.get_ticks()			else:				aktywuj_umiejetnosc.standardowyKolorPrzycisku()				wykonaj_ruch.standardowyKolorPrzycisku()	def ruch(self):		while True:			strzalka_wcisnieta = False			x_t = self.polozenie_x			y_t = self.polozenie_y			for event in pygame.event.get():				if event.type == pygame.QUIT:					sys.exit(0)				if event.type == pygame.KEYDOWN:					if event.key == pygame.K_UP:						strzalka_wcisnieta = True						y_t -= 1					elif event.key == pygame.K_DOWN:						strzalka_wcisnieta = True						y_t += 1					elif event.key == pygame.K_LEFT:						strzalka_wcisnieta = True						x_t -= 1					elif event.key == pygame.K_RIGHT:						strzalka_wcisnieta = True						x_t += 1			if strzalka_wcisnieta is True and super(Czlowiek, self).wykonajRuch(x_t, y_t) is True:				return	def uzyjUmiejetnosci(self):		x = self.getPolozenieX()		y = self.getPolozenieY()		i = -1		while i < 2:			if i == -1:				kierunek = 'gora'			elif i == 1:				kierunek = 'dol'			else:				kierunek = ''			if isinstance(self.swiat.organizmy[x + 1][y + i], Zwierze):				self.przesunOrganizm(self.swiat.organizmy[x + 1][y + i], ('prawo', kierunek))			if isinstance(self.swiat.organizmy[x - 1][y + i], Zwierze):				self.przesunOrganizm(self.swiat.organizmy[x - 1][y + i], ('lewo', kierunek))			if isinstance(self.swiat.organizmy[x][y - 1], Zwierze):				self.przesunOrganizm(self.swiat.organizmy[x][y - 1], ('lewo'))			if isinstance(self.swiat.organizmy[x][y + 1], Zwierze):				self.przesunOrganizm(self.swiat.organizmy[x][y + 1], ('prawo'))			i += 1	def przesunOrganizm(self, organizm, mozliwe_kierunki):		mozliwe_kierunki = list(filter(None, mozliwe_kierunki))		ilosc_kierunkow = len(mozliwe_kierunki)		index = randint(0, ilosc_kierunkow - 1)		kierunek = mozliwe_kierunki[index]		x = organizm.getPolozenieY()		y = organizm.getPolozenieY()		if kierunek is 'prawo':			organizm.wykonajRuch(x + 1, y)		elif kierunek is 'lewo':			organizm.wykonajRuch(x - 1, y)		elif kierunek is 'gora':			organizm.wykonajRuch(x, y - 1)		elif kierunek is 'dol':			organizm.wykonajRuch(x, y + 1)